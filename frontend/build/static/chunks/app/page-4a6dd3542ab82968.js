(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{6371:function(e,t,r){Promise.resolve().then(r.bind(r,6673))},8815:function(e,t,r){"use strict";r.d(t,{Z:function(){return Card}});var o=r(7437),a=r(2685),n=r.n(a);function Label(e){return(0,o.jsx)("div",{className:n().Label,children:e.lTag})}function Card(e){return(0,o.jsxs)("div",{style:{width:"300px",height:"200px",padding:"0",margin:"10px",filter:"drop-shadow(0px 0px 5px #666)"},onClick:()=>e.clickHandler(e.cName,e.cPrice,e.cOwner),children:[(0,o.jsx)(Label,{lTag:e.cName}),(0,o.jsx)(Label,{lTag:e.cDescription}),(0,o.jsx)(Label,{lTag:e.cPrice}),(0,o.jsx)(Label,{lTag:e.cCreated}),(0,o.jsx)(Label,{lTag:e.cOwner})]})}},6673:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var o=r(7437),a=r(2265);function Populate(e){let[t,r]=(0,a.useState)(),populateClickHandler=async()=>{let t=await fetch("http://127.0.0.1:8000/populate/",{}),o=await t.json();r(o.message),console.log("info",o,String(o)),e.setPopulated(!0)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Populate DB"}),(0,o.jsx)("button",{onClick:()=>populateClickHandler(),children:"Populate DB"}),(0,o.jsxs)("div",{children:["Message: ",t," "]})]})}var n=r(8815);function BrowseCards(e){let[t,r]=(0,a.useState)("");(0,a.useEffect)(()=>{fetchCards(t),console.log("updated")},[e.populated]);let fetchCards=async t=>{e.setCardList([]),console.log("searchName:",t);try{let r=await fetch("http://127.0.0.1:8000/api/cards?name="+t,{method:"GET"}),a=await r.json(),s=a.map((t,r)=>(console.log("C: ",t.name),(0,o.jsx)(n.Z,{cName:t.name,cPrice:t.price,cDescription:t.description,cCreated:t.created,cOwner:t.owner,clickHandler:e.addCard},r)));console.log("CARDS:"+s),e.setCardList(s)}catch(e){console.error("Error fetching data:",e)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Browse API (all cards, no authentication)"}),(0,o.jsxs)("label",{children:["search",(0,o.jsx)("input",{type:"text",name:"searchName",value:t,onChange:e=>{r(e.target.value)}})]}),(0,o.jsx)("button",{onClick:()=>{console.log("Name:"),console.log(t),console.log(),fetchCards(t)},children:"Search for items"}),(0,o.jsx)("div",{children:(0,o.jsx)("p",{children:"You may need to scroll to see all items. Auto Generated Items are for testusers0, 1 and 2"})}),(0,o.jsx)("div",{style:{display:"flex",paddingBottom:"30px"},children:e.cardList})]})}function Cart(e){return console.log(e.items),(0,o.jsxs)("div",{style:{backgroundColor:"lightgray",minWidth:"300px"},children:[(0,o.jsxs)("h1",{children:["Cart: ",e.items.length," items"]}),(0,o.jsx)("div",{style:{display:"block"},children:e.items.map((t,r)=>(0,o.jsx)("div",{onClick:()=>e.deleteHandler(r),children:t},r))})]})}function Home(){let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)([]),[s,l]=(0,a.useState)([]);return(0,o.jsxs)("main",{children:[(0,o.jsx)("h1",{children:"Webshop"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:"Click Populate to repopulate the Database"}),(0,o.jsx)("p",{children:"login through http://localhost:3000/login/"}),(0,o.jsx)("p",{children:"sign up through http://localhost:3000/signup/ then login with your new account"}),(0,o.jsx)("p",{children:"Change your password through http://localhost:3000/account/"}),(0,o.jsx)("p",{children:"View your items and add new ones through http://localhost:3000/myitems/"})]}),(0,o.jsx)("br",{}),(0,o.jsx)(Populate,{populated:e,setPopulated:t}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{children:"Notice: You might be automatically logged in as testuser0. If you are unable to add their cards to your cart"}),(0,o.jsx)(BrowseCards,{cardList:r,cartList:s,setCartList:l,setCardList:n,addCard:(e,t,r)=>{let o=localStorage.getItem("loggedInUser");console.log(r),console.log("logged in user:"),console.log(o),r===o?console.log("You can't add your own items to the cart"):l(r=>[...r,[e,"  ",t]])},populated:e}),(0,o.jsx)("br",{}),(0,o.jsx)("h1",{children:"Cart"}),(0,o.jsx)("p",{children:"Click an item above to add to the cart you are unable to add your own items. Click the item in the cart to remove it"}),(0,o.jsx)(Cart,{items:s,deleteHandler:e=>{l([...s.slice(0,e),...s.slice(e+1)])}})]})}},2685:function(e){e.exports={main:"page_main__GlU4n",Label:"page_Label__shcnZ"}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(2265),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var o,n={},i=null,d=null;for(o in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,o)&&!c.hasOwnProperty(o)&&(n[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===n[o]&&(n[o]=t[o]);return{$$typeof:a,type:e,key:i,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=6371)}),_N_E=e.O()}]);