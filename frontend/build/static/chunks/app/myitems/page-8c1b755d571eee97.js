(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1278:function(e,t,r){Promise.resolve().then(r.bind(r,2483))},8815:function(e,t,r){"use strict";r.d(t,{Z:function(){return Card}});var n=r(7437),a=r(2685),i=r.n(a);function Label(e){return(0,n.jsx)("div",{className:i().Label,children:e.lTag})}function Card(e){return(0,n.jsxs)("div",{style:{width:"300px",height:"200px",padding:"0",margin:"10px",filter:"drop-shadow(0px 0px 5px #666)"},onClick:()=>e.clickHandler(e.cName,e.cPrice,e.cOwner),children:[(0,n.jsx)(Label,{lTag:e.cName}),(0,n.jsx)(Label,{lTag:e.cDescription}),(0,n.jsx)(Label,{lTag:e.cPrice}),(0,n.jsx)(Label,{lTag:e.cCreated}),(0,n.jsx)(Label,{lTag:e.cOwner})]})}},2483:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var n=r(7437),a=r(2265),i=r(8815);function UserCards(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(""),fetchCards=async()=>{let e=localStorage.getItem("aToken");console.log("aToken:",e),s(""),t([]);try{let r=await fetch("http://127.0.0.1:8000/api/auth-cards/",{headers:{Authorization:"Bearer "+e},method:"GET"}),a=await r.json();if(a instanceof Array){let e=a.map((e,t)=>(0,n.jsx)(i.Z,{cName:e.name,cPrice:e.price,cDescription:e.description,cCreated:e.created,cOwner:e.owner},t));t(e)}else s("Error: "+a.detail)}catch(e){console.error("Error fetching data:",e.message),s(e.message)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Get User Cards from API"}),(0,n.jsx)("button",{onClick:()=>{fetchCards()},children:"Get Cards"}),(0,n.jsx)("div",{style:{display:"flex"},children:e}),(0,n.jsx)("div",{children:r})]})}var s=r(9014);function Home(){let[e,t]=(0,a.useState)("");(0,a.useEffect)(()=>{var e,r;(null===(e=localStorage)||void 0===e?void 0:e.getItem("loggedInUser"))&&t(null!==(r=localStorage.getItem("loggedInUser"))&&void 0!==r?r:"")},[]);let[r,i]=(0,a.useState)(""),addItem=async e=>{let{ItemName:t,Description:r,Price:n}=e,a=localStorage.getItem("loggedInUser"),c=await fetch("".concat(s.S,"/addItem/"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({ItemName:t,Description:r,Price:n,User:a})}),l=await c.json();i(JSON.stringify(l))};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Add Item"}),(0,n.jsx)("h1",{children:"Fill in information and verify username is correct"}),(0,n.jsxs)("label",{children:["User Name:",(0,n.jsx)("p",{children:e})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=e.target,r=new FormData(t),n=Object.fromEntries(r.entries());addItem(n)},children:[(0,n.jsxs)("label",{children:["ItemName",(0,n.jsx)("input",{type:"text",name:"ItemName"})]}),(0,n.jsxs)("label",{children:["Description",(0,n.jsx)("input",{type:"text",name:"Description"})]}),(0,n.jsxs)("label",{children:["Price",(0,n.jsx)("input",{type:"text",name:"Price"})]}),(0,n.jsx)("button",{type:"submit",children:"Submit"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"New Item"}),(0,n.jsx)("p",{children:r})]})]}),(0,n.jsx)("p",{children:"After Creating a new item please press Get Cards for it to update. The new item will be at the end of the selection"}),(0,n.jsx)(UserCards,{})]})}},9014:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});let n="/api"},2685:function(e){e.exports={main:"page_main__GlU4n",Label:"page_Label__shcnZ"}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,i={},o=null,d=null;for(n in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:o,ref:d,props:i,_owner:c.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=1278)}),_N_E=e.O()}]);