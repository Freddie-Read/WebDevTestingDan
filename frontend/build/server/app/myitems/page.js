(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(7096),a=r(6132),n=r(7284),i=r.n(n),o=r(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["myitems",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6490)),"C:\\WebDev\\webshopproject2023-DanielSanchoWyatt\\frontend\\src\\app\\myitems\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4553)),"C:\\WebDev\\webshopproject2023-DanielSanchoWyatt\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\WebDev\\webshopproject2023-DanielSanchoWyatt\\frontend\\src\\app\\myitems\\page.js"],p="/myitems/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/myitems/page",pathname:"/myitems",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9535:(e,t,r)=>{Promise.resolve().then(r.bind(r,7425))},7425:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Home});var s=r(784),a=r(9885),n=r(2715);function UserCards(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(""),fetchCards=async()=>{let e=localStorage.getItem("aToken");console.log("aToken:",e),i(""),t([]);try{let r=await fetch("http://127.0.0.1:8000/api/auth-cards/",{headers:{Authorization:"Bearer "+e},method:"GET"}),a=await r.json();if(a instanceof Array){let e=a.map((e,t)=>s.jsx(n.Z,{cName:e.name,cPrice:e.price,cDescription:e.description,cCreated:e.created,cOwner:e.owner},t));t(e)}else i("Error: "+a.detail)}catch(e){console.error("Error fetching data:",e.message),i(e.message)}};return(0,s.jsxs)(s.Fragment,{children:[s.jsx("h2",{children:"Get User Cards from API"}),s.jsx("button",{onClick:()=>{fetchCards()},children:"Get Cards"}),s.jsx("div",{style:{display:"flex"},children:e}),s.jsx("div",{children:r})]})}var i=r(8781);function Home(){let[e,t]=(0,a.useState)("");(0,a.useEffect)(()=>{localStorage?.getItem("loggedInUser")&&t(localStorage.getItem("loggedInUser")??"")},[]);let[r,n]=(0,a.useState)(""),addItem=async({ItemName:e,Description:t,Price:r})=>{let s=localStorage.getItem("loggedInUser"),a=await fetch(`${i.S}/addItem/`,{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({ItemName:e,Description:t,Price:r,User:s})}),o=await a.json();n(JSON.stringify(o))};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{children:"Add Item"}),s.jsx("h1",{children:"Fill in information and verify username is correct"}),(0,s.jsxs)("label",{children:["User Name:",s.jsx("p",{children:e})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=e.target,r=new FormData(t),s=Object.fromEntries(r.entries());addItem(s)},children:[(0,s.jsxs)("label",{children:["ItemName",s.jsx("input",{type:"text",name:"ItemName"})]}),(0,s.jsxs)("label",{children:["Description",s.jsx("input",{type:"text",name:"Description"})]}),(0,s.jsxs)("label",{children:["Price",s.jsx("input",{type:"text",name:"Price"})]}),s.jsx("button",{type:"submit",children:"Submit"})]}),(0,s.jsxs)("div",{children:[s.jsx("h2",{children:"New Item"}),s.jsx("p",{children:r})]})]}),s.jsx("p",{children:"After Creating a new item please press Get Cards for it to update. The new item will be at the end of the selection"}),s.jsx(UserCards,{})]})}},8781:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});let s="/api"},6490:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(5153);let a=(0,s.createProxy)(String.raw`C:\WebDev\webshopproject2023-DanielSanchoWyatt\frontend\src\app\myitems\page.js`),{__esModule:n,$$typeof:i}=a,o=a.default,l=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[481,52,424,438],()=>__webpack_exec__(1980));module.exports=r})();